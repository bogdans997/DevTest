<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <title>Passenger Form</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<h2>Passenger Information Form</h2>

<form action="/submit" method="post" th:object="${passenger}">
  <label for="name">Name:</label>
  <input type="text" id="name" th:field="*{name}" required><br>

  <label for="email">Email:</label>
  <input type="email" id="email" th:field="*{email}" required><br>

  <label for="birthdate">Birthdate:</label>
  <input type="date" id="birthdate" th:field="*{birthdate}" required><br>

  <label for="gender">Gender:</label>
  <select id="gender" th:field="*{gender}">
    <option value="male">Male</option>
    <option value="female">Female</option>
  </select><br>

  <label for="flightTime">Flight Time:</label>
  <input type="time" id="flightTime" th:field="*{flightTime}" required><br>

  <label for="destination">Flight Destination:</label>
  <select id="destination" th:field="*{flightDestination}">
    <option value="UK">UK</option>
    <option value="Europe">Europe</option>
    <option value="Asia">Asia</option>
    <option value="Americas">Americas</option>
  </select><br>

  <label for="meal">Meal Type:</label>
  <select id="meal" th:field="*{mealType}">
    <option value="european">European Meal</option>
    <option value="asian">Asian Meal</option>
    <option value="vegetarian">Vegetarian Meal</option>
    <option value="children">Children's Meal</option>
  </select><br>

  <label for="flightClass">Flight Class:</label>
  <select id="flightClass" th:field="*{flightClass}">
    <option value="first">First Class</option>
    <option value="business">Business Class</option>
    <option value="economy">Economy Class</option>
  </select><br>

  <button type="submit">Submit</button>
</form>

<h3>Search Users</h3>
<input type="text" id="userFilter" onkeyup="filterUsers()" placeholder="Filter Users...">
<ul id="userList"></ul>

<script>
  function filterUsers() {
    let filter = document.getElementById('userFilter').value;
    fetch('/users?filter=' + filter)
            .then(response => response.json())
            .then(data => {
              let userList = document.getElementById('userList');
              userList.innerHTML = '';
              data.forEach(user => {
                userList.innerHTML += '<li>' + user.name + '</li>';
              });
            });
  }
</script>

</body>
</html>
